

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Automatic PyMedExt Documentation from sources &mdash; pymedextcore 0.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/msmb.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/msmb.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/js/versions.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="PyMedExt - a library to process clinical text" href="README.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pymedextcore
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">PyMedExt - a library to process clinical text</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#tutorials">Tutorials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Automatic PyMedExt Documentation from sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#datasets">Datasets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pubtator-biocxml">PubTator (biocxml)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quaero-french-corpus-biocxml">QUAERO french corpus (biocxml)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cellfinder-corpus">CellFinder corpus</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fhir-examples">FHIR examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#how-to-use">How to use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#makefile">Makefile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interactive">interactive</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#roadmap">ROADMAP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#todo">TODO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released">RELEASED</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#references">REFERENCES</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#bioc">BIOC</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fhir">FHIR</a></li>
<li class="toctree-l2"><a class="reference internal" href="#brat-format">BRAT format</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pymedextcore</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Automatic PyMedExt Documentation from sources</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/otherInformations.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="automatic-pymedext-documentation-from-sources">
<h1>Automatic PyMedExt Documentation from sources<a class="headerlink" href="#automatic-pymedext-documentation-from-sources" title="Permalink to this headline">¶</a></h1>
<p>PyMedExt Documentation is generated automatically with
sphinx-doc <a class="reference external" href="https://github.com/equipe22/sphinx_doc">https://github.com/equipe22/sphinx_doc</a>. AS an example to generate the documentation you can have a look at
the following links,</p>
<p>–&gt; <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#the-python-domain">https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#the-python-domain</a></p>
<p>–&gt; <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Annotation</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Based object which contains Annotation</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">source_ID</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
                 <span class="n">span</span><span class="p">:</span><span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attributes</span><span class="p">:</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">isEntity</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ID</span><span class="p">:</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ngram</span><span class="p">:</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Intialize an Annotation object</span>
<span class="sd">        :param type: annotation type define by the user (linked to the Annotator)</span>
<span class="sd">        :param value: the annotation value, has to be a string</span>
<span class="sd">        :param source: the name of the Annotator</span>
<span class="sd">        :param source_ID: the Annotator id</span>
<span class="sd">        :param span: the (start, end) position of the annotators</span>
<span class="sd">        :param attributes: In some cases, the value is not enough so other key elements could be saved as dict in attributes</span>
<span class="sd">        :param isEntity: if the Annotation is an entity define as an annotation which can be normalized  (e.g. by a specific uri from an ontology) not the case for segment</span>
<span class="sd">        :param ID: Annotation ID of this specific annotation</span>
<span class="sd">        :returns: Annotation</span>
<span class="sd">        :rtype: Annotation</span>
<span class="sd">        &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>also to a use case of Documentation example for the Annotation class –&gt; <a class="reference external" href="https://equipe22.github.io/pymedext_core/pymedextcore.html?highlight=annotation#pymedext_core.annotators.Annotation">https://equipe22.github.io/pymedext_core/pymedextcore.html?highlight=annotation#pymedext_core.annotators.Annotation</a></p>
</div>
<div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="section" id="datasets">
<h2>Datasets<a class="headerlink" href="#datasets" title="Permalink to this headline">¶</a></h2>
<p>All the datasets used in the examples can be found in the data folder</p>
<div class="section" id="pubtator-biocxml">
<h3>PubTator (biocxml)<a class="headerlink" href="#pubtator-biocxml" title="Permalink to this headline">¶</a></h3>
<p>Users can retrieve pre-annotated PubMed files using PubTator.</p>
<p><strong>Get Data from PubTator</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pymedextcore</span> <span class="kn">import</span> <span class="n">pymedext</span>

<span class="n">pub</span> <span class="o">=</span> <span class="n">pymedext</span><span class="o">.</span><span class="n">PubTatorSource</span><span class="p">()</span>
<span class="n">docs</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">getPubTatorAnnotations</span><span class="p">([</span><span class="s2">&quot;27940449&quot;</span><span class="p">,</span><span class="s2">&quot;28058064&quot;</span><span class="p">,</span><span class="s2">&quot;28078498&quot;</span><span class="p">])</span>
<span class="n">counter</span><span class="o">=</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">:</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">writeJson</span><span class="p">(</span><span class="s2">&quot;pubtator_&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;.json&quot;</span><span class="p">)</span>
    <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>

<span class="n">docs</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">getPubTatorAnnotations</span><span class="p">([</span><span class="s2">&quot;27940449&quot;</span><span class="p">,</span><span class="s2">&quot;28058064&quot;</span><span class="p">,</span><span class="s2">&quot;28078498&quot;</span><span class="p">],</span><span class="n">returnFormat</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">outData</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;pubtator_all.xml&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">outData</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">docs</span><span class="p">)</span>
<span class="n">outData</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="quaero-french-corpus-biocxml">
<h3>QUAERO french corpus (biocxml)<a class="headerlink" href="#quaero-french-corpus-biocxml" title="Permalink to this headline">¶</a></h3>
<p>In the example, we also used the QUAERO dataset:</p>
<div class="highlight-tex notranslate"><div class="highlight"><pre><span></span>Névéol A, Grouin C, Leixa J, Rosset S, Zweigenbaum P.
The QUAERO French Medical Corpus: A Ressource for Medical Entity
Recognition and Normalization. Fourth Workshop on Building and
Evaluating Ressources for Health and Biomedical Text Processing
- BioTxtM2014. 2014:24-30
</pre></div>
</div>
<p>To download the dataset</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> data
wget https://quaerofrenchmed.limsi.fr/QUAERO_FrenchMed_BioC.zip
<span class="c1">#wget https://quaerofrenchmed.limsi.fr/QUAERO_FrenchMed_brat.zip</span>

unzip QUAERO_FrenchMed_BioC.zip
</pre></div>
</div>
</div>
<div class="section" id="cellfinder-corpus">
<h3>CellFinder corpus<a class="headerlink" href="#cellfinder-corpus" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Mariana Neves, Alexander Damaschun, Andreas Kurtz, Ulf Leser. Annotating and evaluating text for stem cell research. Third Workshop on Building and Evaluation Resources for Biomedical Text Mining (BioTxtM 2012) at Language Resources and Evaluation (LREC) 2012. [workshop] [paper]</p>
</div></blockquote>
<p><a class="reference external" href="https://www.informatik.hu-berlin.de/de/forschung/gebiete/wbi/resources/cellfinder">https://www.informatik.hu-berlin.de/de/forschung/gebiete/wbi/resources/cellfinder</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> data
wget https://www.informatik.hu-berlin.de/de/forschung/gebiete/wbi/resources/cellfinder/cellfinder1_brat.tar.gz
mkidr cellfinder
mv cellfinder1_brat.tar.gz cellfinder
tar -zxf cellfinder1_brat.tar.gz
</pre></div>
</div>
</div>
<div class="section" id="fhir-examples">
<h3>FHIR examples<a class="headerlink" href="#fhir-examples" title="Permalink to this headline">¶</a></h3>
<p>data are generated from</p>
<p><a class="reference external" href="https://github.com/smart-on-fhir/sample-patients">https://github.com/smart-on-fhir/sample-patients</a></p>
</div>
</div>
</div>
<div class="section" id="how-to-use">
<h1>How to use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h1>
<div class="section" id="makefile">
<h2>Makefile<a class="headerlink" href="#makefile" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make <span class="nb">help</span>
build                          Build dinstance
demo                           start a demo pymdext container to run it
<span class="nb">help</span>                           Display available commands <span class="k">in</span> Makefile
install                        <span class="nb">local</span> install of pymedext packages
uninstall                      uninstall <span class="nb">local</span> pymedext packages
</pre></div>
</div>
</div>
<div class="section" id="interactive">
<h2>interactive<a class="headerlink" href="#interactive" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="3">
<li><p>execute bash bin/runInteractive.sh to test it in a docker container</p></li>
</ol>
</div>
</div>
<div class="section" id="roadmap">
<h1>ROADMAP<a class="headerlink" href="#roadmap" title="Permalink to this headline">¶</a></h1>
<div class="section" id="todo">
<h2>TODO<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>implement a BratSource.py which open an ssh Connector to a brat Server</p></li>
<li><p>Pymedext to BIOC and specify which annotation are passage</p></li>
<li><p>brat to pymedext</p></li>
<li><p>implement Fhir source by extending source</p></li>
<li><p>It will be done on pymedext_public</p>
<ul>
<li><p>pymedext to omop</p></li>
<li><p>fhir to omop</p></li>
<li><p>fhir to bioc</p></li>
<li><p>brat to omop</p></li>
<li><p>pymedext to doccano</p></li>
<li><p>add omop as (csv) output and furthermore to a db</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="released">
<h2>RELEASED<a class="headerlink" href="#released" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>implement a generic APIConnector with the request function</p></li>
<li><p>add the whole api of Doccano as a Source in an other file called DoccanoSource.py</p></li>
<li><p>Extend datatransform to perform the data wrangling for Doccanotransform.py</p></li>
<li><p>implement datatransform to perform data wrangling for brattransform.py</p></li>
<li><p>implement Bioc output by extending datatransform (done)</p></li>
<li><p>implement Fhir wrangling by extending datatransform (done)</p></li>
</ul>
</div>
</div>
<div class="section" id="references">
<h1>REFERENCES<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h1>
<div class="section" id="bioc">
<h2>BIOC<a class="headerlink" href="#bioc" title="Permalink to this headline">¶</a></h2>
<p>input data from article:
<a class="reference external" href="https://www.ncbi.nlm.nih.gov/research/bionlp/APIs/BioC-PMC/">https://www.ncbi.nlm.nih.gov/research/bionlp/APIs/BioC-PMC/</a></p>
<p>example of file in json:
<a class="reference external" href="https://www.ncbi.nlm.nih.gov/research/bionlp/RESTful/pmcoa.cgi/BioC_json/17299597/unicode">https://www.ncbi.nlm.nih.gov/research/bionlp/RESTful/pmcoa.cgi/BioC_json/17299597/unicode</a></p>
<p><a class="reference external" href="http://bioc.sourceforge.net/">http://bioc.sourceforge.net/</a></p>
<p><a class="reference external" href="https://pypi.org/project/bioc/">https://pypi.org/project/bioc/</a></p>
<p><a class="reference external" href="https://www.ncbi.nlm.nih.gov/research/pubtator/api.html">https://www.ncbi.nlm.nih.gov/research/pubtator/api.html</a></p>
</div>
<div class="section" id="fhir">
<h2>FHIR<a class="headerlink" href="#fhir" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/smart-on-fhir/client-py">https://github.com/smart-on-fhir/client-py</a></p>
<p><a class="reference external" href="https://github.com/smart-on-fhir/sample-patients">https://github.com/smart-on-fhir/sample-patients</a></p>
<p><a class="reference external" href="https://docs.smarthealthit.org/client-py/">https://docs.smarthealthit.org/client-py/</a></p>
<p><a class="reference external" href="https://github.com/smart-on-fhir/fhir-parser">https://github.com/smart-on-fhir/fhir-parser</a></p>
<p><a class="reference external" href="https://github.com/smart-on-fhir/client-py/blob/master/fhirclient/models/documentmanifest.py">https://github.com/smart-on-fhir/client-py/blob/master/fhirclient/models/documentmanifest.py</a></p>
</div>
<div class="section" id="brat-format">
<h2>BRAT format<a class="headerlink" href="#brat-format" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://brat.nlplab.org/standoff.html">https://brat.nlplab.org/standoff.html</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="README.html" class="btn btn-neutral float-left" title="PyMedExt - a library to process clinical text" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Antoine Neuraz, William Digan, Ivan Lerner, Alice Rogier, David Baudoin, Anita Burgun, Nicolas Garcelon, Bastien Rance.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  <script>
    var versions_json_url = ''
</script>

<div class="rst-versions" data-toggle="rst-versions" role="note"
     aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"></span>
        0.2
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
        <dl id="versionselector">
            <dt>Other Versions</dt>
        </dl>

    </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>